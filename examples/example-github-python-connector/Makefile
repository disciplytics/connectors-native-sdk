APP_NAME=EXAMPLE_GITHUB_PYTHON_CONNECTOR
APP_VERSION=V_1_0_0
STAGE_DB=${APP_NAME}_STAGE
STAGE_NAME=${STAGE_DB}.PUBLIC.ARTIFACTS
WAREHOUSE=XS

.PHONY: build
build:
	python -m build

.PHONY: dev_deploy
deploy:
	snowsql -f sql/deploy.sql -c $(CONNECTION) -D APP_NAME=${APP_NAME} -D STAGE_DB=${STAGE_DB} -D STAGE_NAME=${STAGE_NAME} -D APP_VERSION=${APP_VERSION}

install:
	snowsql -f sql/install.sql -c $(CONNECTION) -D token=${GITHUB_TOKEN}  -D APP_NAME=${APP_NAME} -D WAREHOUSE=${WAREHOUSE} -D APP_VERSION=${APP_VERSION} -D STAGE_NAME=${STAGE_NAME}
